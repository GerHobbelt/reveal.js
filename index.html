<!doctype html>
<html lang="en">
 <head><meta charset="utf-8">
  <title>YAGT</title>

  <meta name="description" content="YAGT: Yet another talk about the distributed version control management tool Git">
  <meta name="author" content="Harald Schilly">

  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

  <link rel="stylesheet" href="css/reveal.css">
  <link rel="stylesheet" href="css/theme/yagt.css" id="theme">

  <!-- For syntax highlighting -->
  <link rel="stylesheet" href="lib/css/github.css">

  <script>
   // If the query includes 'print-pdf' we'll use the PDF print sheet
   document.write( '<link rel="stylesheet" href="css/print/' + ( window.location.search.match( /print-pdf/gi ) ? 'pdf' : 'paper' ) + '.css" type="text/css" media="print">' );
  </script>

  <!--[if lt IE 9]>
  <script src="lib/js/html5shiv.js"></script>
  <![endif]-->
 </head>

 <body spellcheck="false">

  <div class="reveal">

   <!-- Used to fade in a background when a specific slide state is reached -->
   <div class="state-background"></div>

   <!-- breadcrumb note: each horizontal section should have a "bc" attribute
        and each vertical one too. if the vertical one doesn't have one, the
        title is derived from the first tag, iff it is a h1, h2 or h3.
        Breadcrumb:
        [html <title>] > [ hsection.bc ] > [ vsection.bc || vsection.h1,h2,h3]
   -->

   <!-- Any section element inside of this container is displayed as a slide -->
   <div class="slides">
    <section bc="">
     <section>
     <h1 id="YAGT">YAGT</h1>
     <h2 id="YAGT2">Yet Another Git Talk</h2>
     <hr/>
     <h2>by <a href="http://harald.schil.ly">Harald Schilly</a></h2>
     <p><img class="noborder" src='res/git-logo.svg' width="300px" /></p>

     <aside class="footnote"><a href="http://dev.harald.schil.ly/yagt/">http://dev.harald.schil.ly/yagt/</a></aside>
    </section>
    </section>
    <script>
      var yagt  = document.querySelector("#YAGT");
      var yagt2 = document.querySelector("#YAGT2");
      var tt = "Yes, A Great Git Talk!".split("").reverse();
      var phase2 = false;
      yagt.onclick = function() {
        yagt.onclick = undefined;
        loop = setInterval(function() {
          if (phase2) {
            if(tt.length > 0) {
              yagt2.innerHTML += tt.pop(0);
            } else {
              clearInterval(loop);
              yagt.innerHTML = "<b>YAGGT!</b>";
            }
          } else { // phase 1
            var t = yagt2.innerHTML;
            if(t.length > 1) {
              yagt2.innerHTML = t.substring(0, t.length-1);
            } else {
              yagt2.innerHTML = "&nbsp;";
              phase2 = true;
            }
          }
        }, 50);
      }
    </script>

<section data-markdown bc="Introduction">
  <section data-markdown>
    # What's Git?

From the website:
    <blockquote cite="http://git-scm.com/">
Git is a free and open source distributed version control system designed to handle everything from small to very large projects with speed and efficiency.</blockquote>
  </section>
  <section data-markdown>
    ## Purpose

<ul>
  <li>Git tracks <em>text</em> files (i.e. source code, txt, svg, latex)
      in a specific directory and all its sub-directories.</li>
  <li class="fragment">Git records all the modifications in a history.</li>
  <li class="fragment">Git allows to conveniently share modifications of a project
   - between <b>any</b> member in a p2p fashion.</li>
</ul>
  </section>
  <section data-markdown>
## Distributed

Git is also a *distributed* version control system.
This means, you have all the history on your local machine.

This allows you to make any kind of queries or modifications
without connecting to a central server.

It also fits much better with our mental model of *collaboration* in general.
  </section>
  <section data-markdown data-state="alert">
## Git is not ...
<ul>
  <li>... a friend of binary files (i.e. jpeg, mp3, avi, doc, docx, odt, ...)</li>
  <li class="fragment">... a way to just upload data to a (web-) server<br/>
  &rarr; use <code>rsync -a --delete $SRC $DEST</code></li>
  <li class="fragment">... a mere incremental backup <br/>
      &rarr; use <code>rdiff-backup</code></li>
</ul>
<aside class="footnote">although, you can happily abuse it for all this ...</aside>
  </section>

  <section data-markdown>
  </section>
  <section data-markdown>
  </section>
</section>

<section bc="Prerequisites">
<section data-markdown>
## Internal suff

Git models the state and history via three very simplistic data structures:
blob, tree and commit.

It sounds scary, but the best way to understand Git, is to learn about those basic ideas.

<p class="fragment">Hey, we are hackers after all :-)</p>

<aside class="footnote">
<a href="http://git-scm.com/book/en/Git-Internals-Git-Objects">Git Book: Internal Objects</a>
</aside>
</section>
<section data-markdown>
## Hash function

A hash function is a cryptographic primitve,
which transforms some arbitrary data (file, byte-string)
into a byte-string of *fixed length*!

Git uses this technique extensively via
[sha1](http://en.wikipedia.org/wiki/SHA-1).

Such a hash is **unique** and usually the first few characters
are enough to specify it. e.g. <code>d22f6ac</code>
</section>
<section data-markdown>
## Hash Example

A commit from the Git history:
<pre>
$ git log -1
commit <b>d22f6ac868fd62dba328b555d93ec63b0fb00194</b>
Author: Harald Schilly &lt;harald.schilly@gmail.com&gt;
Date:   Sat Oct 6 21:07:48 2012 +0200

    fragment: zoom and relative offset animation

</pre>
</section>
<section data-markdown>
## Linked List &amp; Trees

All "objects" behind such hashes uniquely identified by the hash sum.

References to other objects from "inside" such an object
are used to build trees, linked lists (or to be precise, a DAG).
</section>
<section data-markdown>
## Tree = Filesystem

All files that are tracked by Git are basically organized in a tree.
Each entry points to one specific "hashed" content of a file.

(Besides that, the name of the file is recorded, too)
</section>
<section data-markdown>
## Commit

A **commit** is one specific snapshot in time of a tree with all referenced
files in their current state.

This is the fundamental building block of everything inside the
Git repository. Learning Git means mastering how to create 
commits and how to juggle them around.

Such a commit also records the author, the time/date, and usually
references to one or two previous commits.
</section>
<section data-markdown>
## DAG = History

The collection of all those commits, referencing to the
immediate ancestor(s), builds the history of the entire project.

* A **root** is a commit with no ancestors<sup>1</sup>.
* A **merge** is a commit with more than one ancestor.

<aside class="footnote"><sup>1</sup> Yes, there could be more than one:
<code>git checkout --orphan root2</code></aside>

</section>
<section data-markdown>
## Branch

It is hard to remember all those constantly changing hashsums.

A *reference* to a specific commit is the start of a **branch**.
This is a linear ordering of commits until the root.

Also, when we *commit*, this reference automatically changes
and points to the new revision!
</section>
<section data-markdown>
## HEAD
The **HEAD** is a special companion,
which points to to the *current* branch
or a specific revision.

It is the base for current files in your actual working space.
</section>
<section data-markdown data-state="alert">
## Detached HEAD

Unfortunatle, your **HEAD** could fall off.
In this case, it points directly to a revision and not a branch.

Then, no branch reference automatically moves with the next commit!

Git does not care about those revisions which aren't reachable from any branch (or tag).
This means, a commit in a detached state will get lost!
</section>
<section data-markdown data-state="alert">
## Rewriting History

The ability of Git to discard all commits which are not reachable,
is used in various ways. 

Since this essentially removes parts of the history,
this is called "**rewriting history**".

<ul class="fragment">
<li>Cons: You can shoot yourself in the foot<sup>1</sup>.</li>
<li>Pros: It allows you to fix errors (e.g. the last commit was incomplete),
or to extract parts of a larger history.</li>
</ul>

<aside class="footnote">
<sup>1</sup>But don't worry, Git takes great care to not loose anything
unless you <code>-f</code> "*force*" it.<br/>
There is also a safety net called "*reflog*".
</section>
<section data-markdown>
## Selecting Revisions

Quite often it is necessary to reference one or more revision.
<ul>
<li>start of the hashsum <code>8frfa1</code></li>
<li class="fragment">ancestors: <code>master~</code> or <code>master~2</code> ...</li>
<li class="fragment">parent 2 of a merge: <code>8r7af^^</code></li>
<li class="fragment">combo move: <code>master~3^^~</code></li>
<li class="fragment">ranges: <code>master..topic1</code></li>
<li class="fragment">branch differences: <code>master...topic2</code></li>
</ul>

<aside class="footnote">
<a href="http://git-scm.com/book/en/Git-Tools-Revision-Selection">read more here</a>
</aside>
</section>
</section>
<section bc="First Steps">
  <section data-markdown bc="Installation">
    ## First: Installation

* download from [Git homepage](http://www.git-scm.com/)<sup>1</sup>
* Ubuntu: <code>sudo apt-get install git</code>
* MacPorts: <code>sudo port install git-core</code>

    ### Install Tools
    <code>sudo apt-get install gitk git-cola</code>

    <aside class="footnote">
    <sup>1</sup> http://www.git-scm.com/<br/>
    </aside>
  </section>
  <section>
  <h2>Basics</h2>

  Git is a <b>command-line tool</b>, called via <code>git</code>.

  <h2 class="fragment">HELP</h2>
<div class="fragment">
  <h3>I NEED HHHEEEELP!!!</h3>
  <code>git help [&lt;command&gt;]</code> 
  <br/>
  or
  <br/>
  <code> git [&lt;command&gt;] --help</code>
  </div>
<aside class="footnote">GUIs: <code>gitk</code> and <code>git-gui</code>,
<em><a href="http://git-scm.com/downloads/guis">Git Guis</a></em>,
<a href="http://git-cola.github.com/">git-cola</a>,
<a href="http://www.syntevo.com/smartgit/index.html">SmartGit</a>,
<a href="http://code.google.com/p/tortoisegit/">TortoiseGit</a>,
<a href="http://www.eclipse.org/egit/">Eclipse</a>, 
... but this talk stays "pure".
</section>
<section data-markdown>
## Configuration

Git has a global <code>~/.gitconfig</code> and project specific local
<code>.git/config</code> configuration file.

Edit them either directly (leet!) or via

<code>git config [--global] ...</code>
</section>
<section data-markdown>
## Config: Identity

All commits are associated with you.
That's necessary for [licensing copyrighted works](http://www.wipo.int/treaties/en/ip/berne/trtdocs_wo001.html).

<pre><code contenteditable>$ git config --global user.name "Gitti Gitian"
$ git config --global user.email "gitti@gitiscool.com"
# and check it
$ git config --global user.name
Gitti Gitian
</code></pre>

<aside class="footnote">
  Remeber: <code>--global</code> sets this for your entire account!
</aside>
</section>

<section data-markdown>
## Config: Aliases

Git allows to create custom commands. They can be shortcuts
or even small scripts.

Set them this way:

<pre><code contenteditable>$ git config --global alias.st status</code></pre>
</section>

<section data-markdown>
## My Aliases
<pre class="small"><code contenteditable>$ git aliases
st = status
ci = commit
ll = log --oneline --graph --decorate --all -20
br = branch
co = checkout
df = diff
who = shortlog -s --
aliases = !git config --get-regexp 'alias.*' | colrm 1 6 | sed 's/[ ]/ = /'
</code></pre>
</section>

<section data-markdown>
## Config: Editor

Git sometimes pops up an text editor.

Choose your poison:

<pre><code>$ git config --global core.editor "vim"</code></pre>
</section>

<section data-markdown>
## Config: Merge Tool

This is what Git gives you via <code>git mergetool</code>,
when it gives up resolving conflicts.

<pre><code>$ git config --global merge.tool "meld"</code></pre>

</section>
<section data-markdown>
## Config: Color

Makes reading output much easier.

<pre><code>$ git config --global color.ui true</code></pre>

</section>
<section data-markdown>
## Config: Ignore Files
Usually, your working directory contains a mix of tracked files
and generated files which should not be tracked.

You can tell Git to ignore them globally:

<pre>$ git config --global core.excludesfile ~/.gitignore</pre>

and project specific:<br/> edit <code>$PROJ_ROOT/.gitignore</code>
</section>
<section>
<h2>Config: Ignore Files /2</h2>
Typical entries:
<pre class="small">*.o
*.so
*.class
*.jar
*.pdf        # generated from .tex files
*~           # temporary editor files
*.swp        # vim temp file
*.min.js
*.log
*.DS_Store   # Mac users
</pre>
<aside class="footnote">
<a href="https://help.github.com/articles/ignoring-files">more examples what to exclude</a></aside>
    </section>
  </section>
  <!-- ################# -->
<section bc="Hands On">
<section data-markdown>
## Start a repository

A repository in Git is decentralized.
You do not need to know in advance,
with whom you want to work together.

<pre>$ mkdir myshinynewrepo
$ cd !$
$ git --bare
</pre>

</section>
<section data-markdown data-state="soothe">
## Clone a Repo

... but if you know the project,
it is easier to just <em>"clone"</em> it.

<pre>$ git clone [git|http]://server/.../project.git</pre>

Then, this <em>remote</em> server is already setup for 
sending your commits to it (<em>"pushing"</em>).

</section>
<section data-markdown>
<h2>Staging</h2>

Git has a so called <em>"staging area"</em>.
This is a selection of modified files,
or parts of files, that you wish to be part of the next
<em>"[commit](#/2/5)"</em>.

<pre>$ git add fileA fileB ...
# or just all, which are already tracked or deleted
$ git add -A
# or just a part
$ git add -p fileX
# to get rid of files
$ git rm fileY
</pre>
</section>
<section data-markdown data-state="alert">
##Edits after staging are lost!

Only the changes that were present at the time of
staging will be commited - not the additional modifications.

Reason: Staging means, that the modifications are copied into
something called *"index"*; it has nothing to do with the actual files.
</section>
<section data-markdown>
## Committing

Creating a new commit is probably the most often used feature.
Usually, it 

</section>
<section data-markdown bc="Diff">
It is also easy to see commit **diff**erences.

<pre class="small">$ git diff HEAD~3..HEAD~2 index.html
diff --git a/index.html b/index.html
index 43063fb..06d9a2e 100644
--- a/index.html
+++ b/index.html
@@ -140,7 +144,9 @@
     Gitti Gitian
-    &lt;code&gt;--global&lt;/code&gt; sets this for your entire account!
+    &lt;aside class="footnote"&gt;
+      Remeber: &lt;code&gt;--global&lt;/code&gt; sets this for your entire account!
+    &lt;/aside&gt;
     &lt;/section&gt;
</pre>

</section>
<section data-markdown data-state="soothe">
## Too many commands?

It is possible to combine **add -A** and **commit**,
even including the commit message:

<pre><code>$ git commit -am "commit message"</code></pre>
</section>
<section data-markdown>
## Summary /1

<img src="res/basic-usage.svg" />
</section>
<section data-markdown>
### Summary /2

It is possible to *skip* the staging area. *Both are modified!*

<img src="res/basic-usage-2.svg" />
</section>
</section>
<!--
    <section data-markdown>
     ## Markdown support

     For those of you who like that sort of thing. Instructions and a bit more info available [here](https://github.com/hakimel/reveal.js#markdown).

     <pre><code contenteditable style="margin-top: 20px;">&lt;section data-markdown&gt;
  ## Markdown support

  For those of you who like that sort of thing. 
  Instructions and a bit more info available [here](https://github.com/hakimel/reveal.js#markdown).
&lt;/section&gt;
     </code></pre>
    </section>
-->

<!--
    <section data-state="customevent">
     <h2>Custom Events</h2>
     <p>
      Additionally custom events can be triggered on a per slide basis by binding to the <code>data-state</code> name.
     </p>
     <pre><code contenteditable style="font-size: 18px; margin-top: 20px;">Reveal.addEventListener( 'customevent', function() {
 console.log( '"customevent" has fired' );
} );
     </code></pre>
    </section>
-->
    <section bc="Final Words">
     <section bc="Links">
     <table style="table-layout: fixed; width:100%;">
       <tr>
         <td style="width: 50%">
           <h2>Talk</h2>
           <ul>
             <li><a href="http://github.com/haraldschilly/yagt">Source of this</a></li>
             <li><a href="http://harald.schil.ly/">My Website</a></li>
           </ul>
           </td><td style="width: 50%">
           <h2>Git</h2>
           <ul>
             <li><a href="http://www.git-scm.com/">Git</a></li>
             <li><a href="http://git-scm.com/book">Git Book</a></li>
           </ul>
         </tr>
         <tr>
           <td colspan="2" style="width:100%">
             <h2>Resources</h2>
             <ul>
               <li><a href="http://gitready.com/">Git Ready</a></li>
               <li><a href="ftp.newartisans.com/pub/git.from.bottom.up.pdf">Git from the bottom up</a></li>
               <li><a href="http://marklodato.github.com/visual-git-guide/">Visual Git Guide</a></li>
             </ul>
           </ul>
         </td>
       </tr>
     </table>
     </section>

     <section>
     <h3>Copyright</h3>
     <h2><b>&copy; 2012 <a href="http://harald.schil.ly/">Harald Schilly</a></b></h2>
     <hr/>
     <h2>Fork Me: <a href="http://github.com/haraldschilly/yagt">yagt@github</a></h2>
     <h2>License: <a href="http://creativecommons.org/licenses/by-sa/3.0/">CC BY-SA</a></h2>
     <p>Based on work by <a href="http://hakim.se">Hakim El Hattab</a> 
     and <a href="http://marklodato.github.com/visual-git-guide/">Mark Lodato</a>. 
     Details: <code>git blame|log</code> ;-)</p>
     </section>
    </section>
   </div>

   <!-- bottom left corner logo -->
   <aside class="logo"> 
     <a href="http://git-scm.com/"><img src="res/git-logo.svg" /></a>
   </aside>

   <!-- counter top right -->
   <aside id="counters">
   <p id="cnt-hori">-</p>
   <p id="cnt-hori-all">-</p>
   <p id="cnt-vert">-</p>
   <p id="cnt-vert-all">-</p>
   </aside>

   <!-- The navigational controls UI -->
   <aside class="controls">
    <a class="left" href="#">&#x25C4;</a>
    <a class="right" href="#">&#x25BA;</a>
    <a class="up" href="#">&#x25B2;</a>
    <a class="down" href="#">&#x25BC;</a>
   </aside>

   <!-- time -->
   <aside id="time"></aside>

   <!-- breadcrumb at the top -->
   <aside id="breadcrumb">BREAD &gt; CRUMB</aside>

   <!-- footnote in bottom middle. enter text via <aside class="footnote">...</aside>
        inside <section> -->
   <aside id="footnote"></aside>

   <!-- Presentation progress bar -->
   <div class="progress"><span></span></div>

  </div>

  <script src="lib/js/head.min.js"></script>
  <script src="js/reveal.js"></script>

  <script>

   // Full list of configuration options available here:
   // https://github.com/hakimel/reveal.js#configuration
   Reveal.initialize({
    controls: true,
    progress: true,
    history: true,

    theme: Reveal.getQueryHash().theme || 'default', // available themes are in /css/theme
    transition: Reveal.getQueryHash().transition || 'default', // default/cube/page/concave/linear(2d)

    // Optional libraries used to extend on reveal.js
    dependencies: [
     { src: 'lib/js/highlight.js', async: true, callback: function() { window.hljs.initHighlightingOnLoad(); } },
     { src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
     { src: 'lib/js/showdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
     { src: 'lib/js/data-markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
     { src: '/socket.io/socket.io.js', async: true, condition: function() { return window.location.host === 'localhost:1947'; } },
     { src: 'plugin/speakernotes/client.js', async: true, condition: function() { return window.location.host === 'localhost:1947'; } },
    ]
   });

  </script>

 </body>
</html>
